<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajustes de Cuenta</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Poppins:wght@400;600&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/public/css/ninos/preloader.css">
    <link rel="stylesheet" href="/public/css/ninos/cuenta.css">
</head>

<body>

    <!-- Preloader -->
    <div id="preloader">
        <img src="/public/img/ninos/guimar flash.gif" alt="Logo de GuímarBot">
        <div class="loading-text">Cargando...</div>
    </div>

    <!-- Cargamos el menú -->
    <div id="menu-container"></div>

    <div class="contenedor-ajustes-cuenta">
        <h1 class="titulo-Edit">Editar perfil</h1>

        <div class="seccion-perfil">
            <div class="foto-perfil">
                <div class="imagen-perfil">
                    <p class="iniciales">B</p>
                </div>
                <p class="texto-subir">Arrastra aquí tu imagen de perfil o <a href="#">sube una foto</a></p>
            </div>

            <div class="opciones-inicio-sesion">
                <h3>Iniciar sesión</h3>
                <button class="btn-social btn-twitter">Conecta con Twitter</button>
                <button class="btn-social btn-facebook">Conecta con Facebook</button>

                <div class="cambiar-contra">
                    <p>¿Desea cambiar su Contraseña?</p>
                    <input type="email" placeholder="Ingresar contraseña">
                    <input type="password" placeholder="Confirmar contraseña">
                </div>
            </div>

            <div class="seccion-planes">
                <p>Te quedan <strong>10 días</strong> de tu suscripción.</p>
                <button class="btn-renovar">Renovar ahora</button>
            </div>
        </div>


        <div class="seccion-formulario">
            <h2>Tus Datos</h2>
            <form class="formulario-datos-usuario">
                <!-- Información de perfil -->
                <div class="grupo-input">
                    <label for="nombres">Nombres</label>
                    <input type="text" id="nombres" placeholder="Ingrese sus nombres">
                </div>

                <div class="grupo-input">
                    <label for="apellidos">Apellidos</label>
                    <input type="text" id="apellidos" placeholder="Ingrese sus apellidos">
                </div>

                <div class="grupo-input">
                    <label for="usuario">Usuario</label>
                    <input type="text" id="usuario" placeholder="Ingrese un usuario">
                </div>

                <div class="grupo-input">
                    <label for="correo">Correo electrónico</label>
                    <input type="email" id="correo" placeholder="Ingrese un correo electrónico">
                </div>

                <div class="grupo-input">
                    <label for="telefono">Teléfono Móvil</label>
                    <div class="input-telefono">
                        <input type="text" class="codigo-pais" placeholder="+51">
                        <input type="text" class="numero-telefono" placeholder="Número">
                    </div>
                </div>

                <div class="grupo-input">
                    <label for="biografia">Biografía</label>
                    <textarea id="biografia" placeholder="Escribe una breve descripción..."></textarea>
                </div>

                <div class="grupo-input">
                    <label>Género</label>
                    <div class="opciones-genero">
                        <input type="radio" id="masculino" name="genero">
                        <label for="masculino">Masculino</label>
                        <input type="radio" id="femenino" name="genero">
                        <label for="femenino">Femenino</label>
                    </div>
                </div>

                <div class="grupo-input">
                    <label for="cumpleaños">Cumpleaños</label>
                    <input type="date" id="cumpleaños">
                </div>

                <!-- Educación e intereses -->
                <div class="grupo-input">
                    <label>Temas de interés</label>
                    <div class="opciones-interes">
                        <input type="checkbox" id="audiovisual">
                        <label for="audiovisual">Audiovisual</label>
                        <input type="checkbox" id="frontend">
                        <label for="frontend">Desarrollador Frontend</label>
                        <input type="checkbox" id="backend">
                        <label for="backend">Desarrollador Backend</label>
                        <input type="checkbox" id="marketing">
                        <label for="marketing">Marketing</label>
                        <input type="checkbox" id="diseno-grafico">
                        <label for="diseno-grafico">Diseñador Gráfico</label>
                        <input type="checkbox" id="diseno-ux">
                        <label for="diseno-ux">Diseño UX</label>
                        <input type="checkbox" id="ingles">
                        <label for="ingles">Inglés</label>
                        <input type="checkbox" id="negocios">
                        <label for="negocios">Negocios</label>
                    </div>
                </div>

                <!-- Botones de acción -->
                <div class="botones-accion">
                    <button class="btn-guardar">Guardar cambios</button>
                    <a href="#" class="btn-volver">Volver al perfil</a>
                </div>
            </form>
        </div>
    </div>

    <!-- Script para cargar el menú y aplicar las opciones de usuario -->
    <script>
        fetch('menu.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('menu-container').innerHTML = data;
                actualizarMenu(); // Actualiza el menú después de cargar
            })
            .catch(error => console.error("Error cargando el menú:", error));

        function actualizarMenu() {
            const loginButton = document.getElementById('login-button');
            const loginDropdown = document.getElementById('login-dropdown');
            const userName = localStorage.getItem('userName');

            if (userName) {
                loginButton.textContent = userName;
                loginDropdown.innerHTML = `
            <a href="cuenta.html">Editar perfil</a>
            <a href="clasificacion.html">Clasificación</a>
            <a href="progreso.html">Mi progreso</a>
            <a href="mis-cursos.html">Mis cursos</a>
            <a href="suscripciones.html">Suscripciones</a>
            <a href="#" id="logout-link">Cerrar sesión</a>
        `;

                // Agregar evento para cerrar sesión
                document.getElementById('logout-link').addEventListener('click', (e) => {
                    e.preventDefault();
                    cerrarSesion(); // Llama a la función de cerrar sesión
                });
            }
        }

        function cerrarSesion() {
            console.log("Cerrando sesión"); // Confirma que se está cerrando sesión
            localStorage.removeItem('userName'); // Elimina el nombre del usuario
            window.location.href = 'inicio.html'; // Redirige a la página de inicio
        }
    </script>

    <!-- Script para el preloader -->
    <script>
        window.addEventListener('load', function () {
            setTimeout(function () {
                document.getElementById('preloader').style.opacity = '0';
                document.getElementById('preloader').style.transition = 'opacity 0.5s ease'; // Suaviza la desaparición
            }, 1000); // Se acorta el tiempo a 1 segundo
            setTimeout(function () {
                document.getElementById('preloader').style.display = 'none'; // Se oculta completamente después de la transición
            }, 1500); // Espera 1.5 segundos antes de ocultarlo completamente
        });
    </script>

    <script src="/src/js/menu.js"></script>
    <script src="/src/js/cuenta.js"></script>
</body>

</html>